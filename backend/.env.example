# ===================================
# LA PÚBLICA - CONFIGURACIÓN BACKEND
# ===================================

# === CONFIGURACIÓN GENERAL ===
NODE_ENV=development
PORT=3001
API_VERSION=v1

# === BASE DE DATOS ===
# PostgreSQL principal
DATABASE_URL="postgresql://lapublica:password123@localhost:5432/lapublica_db?schema=public"
DB_HOST=localhost
DB_PORT=5432
DB_NAME=lapublica_db
DB_USER=lapublica
DB_PASSWORD=password123

# === REDIS (CACHÉ Y COLAS) ===
REDIS_URL="redis://localhost:6379"
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# === JWT AUTHENTICATION ===
JWT_SECRET="tu-super-secreto-jwt-muy-largo-y-seguro-para-produccion"
JWT_REFRESH_SECRET="tu-refresh-secret-diferente-y-tambien-muy-seguro"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# === OPENAI API ===
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_MODEL="gpt-4"
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# === EMAIL CONFIGURATION ===
# SMTP Configuration (recomendado: SendGrid, Mailgun, AWS SES)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="tu-email@gmail.com"
SMTP_PASS="tu-app-password"
SMTP_FROM="noreply@lapublica.es"

# SendGrid API (alternativa más robusta)
SENDGRID_API_KEY="SG.your-sendgrid-api-key-here"

# === SCRAPING CONFIGURATION ===
# Rate limiting por plan
SCRAPING_RATE_LIMIT_BASIC=10
SCRAPING_RATE_LIMIT_ADVANCED=83
SCRAPING_RATE_LIMIT_EXPERT=833

# User agents para scraping
SCRAPING_USER_AGENT="Mozilla/5.0 (compatible; LaPública Bot/1.0)"
SCRAPING_TIMEOUT=10000
SCRAPING_CONCURRENT_REQUESTS=5

# === ARCHIVOS Y UPLOADS ===
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES="jpg,jpeg,png,pdf,doc,docx"

# === LOGGING ===
LOG_LEVEL="info"
LOG_FILE="./logs/app.log"
LOG_MAX_SIZE="10m"
LOG_MAX_FILES="14d"

# === CORS CONFIGURATION ===
CORS_ORIGIN="http://localhost:3000,https://lapublica.es,https://www.lapublica.es"
CORS_CREDENTIALS=true

# === RATE LIMITING ===
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# === SECURITY ===
BCRYPT_ROUNDS=12
SESSION_SECRET="tu-session-secret-para-express-session"
HELMET_CSP_ENABLED=true

# === ANALYTICS Y TRACKING ===
GOOGLE_ANALYTICS_ID=""
MIXPANEL_TOKEN=""
SENTRY_DSN=""

# === WEBHOOK ENDPOINTS ===
STRIPE_WEBHOOK_SECRET=""
SENDGRID_WEBHOOK_SECRET=""

# === EXTERNAL APIS ===
# Para funcionalidades adicionales
GOOGLE_MAPS_API_KEY=""
LINKEDIN_API_KEY=""
TWITTER_API_KEY=""

# === BACKGROUND JOBS ===
JOB_CONCURRENCY=5
JOB_MAX_ATTEMPTS=3
JOB_DELAY_ON_FAILURE=60000

# === MONITORING ===
HEALTH_CHECK_INTERVAL=30000
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# === FEATURES FLAGS ===
FEATURE_EMAIL_AUTOMATION=true
FEATURE_COMPETITIVE_ANALYSIS=true
FEATURE_AI_CHAT=true
FEATURE_ADVANCED_SCRAPING=true
FEATURE_LEAD_SCORING=true

# === DEVELOPMENT ONLY ===
# Solo para desarrollo - NUNCA en producción
DEBUG=false
MOCK_EXTERNAL_APIS=false
DISABLE_AUTH_FOR_TESTING=false
SEED_DATABASE=true

# === PRODUCTION SETTINGS ===
# Configuraciones específicas para producción
CLUSTER_MODE=false
WORKERS_COUNT=4
GRACEFUL_SHUTDOWN_TIMEOUT=10000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=6000

# === SSL/TLS ===
SSL_ENABLED=false
SSL_CERT_PATH=""
SSL_KEY_PATH=""

# === BACKUP CONFIGURATION ===
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH="./backups"

# === CACHE CONFIGURATION ===
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400
CACHE_ENABLED=true

# ===================================
# NOTAS IMPORTANTES:
# ===================================
# 1. Cambia TODOS los secretos en producción
# 2. Usa gestores de secretos (AWS Secrets Manager, Azure Key Vault)
# 3. Nunca commitees el archivo .env real al repositorio
# 4. Verifica que todas las APIs externas estén configuradas
# 5. Configura monitoreo y alertas para producción
# ===================================